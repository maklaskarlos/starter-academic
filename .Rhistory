# Chart
datos6 %>%
gather("ciudad","sales",-month) %>%
glimpse() %>%
ggplot(aes(x=as.Date(month, "%d-%b"),y=sales, colour= ciudad)) +
geom_line() +
geom_point() +
geom_text(aes(label = round(sales, 0)),
vjust = "inward", hjust = "inward",
size=4) #+
# Chart
datos6 %>%
gather("ciudad","sales",-month) %>%
glimpse() %>%
ggplot(aes(x=as.Date(month, "%M"),y=sales, colour= ciudad)) +
geom_line() +
geom_point() +
geom_text(aes(label = round(sales, 0)),
vjust = "inward", hjust = "inward",
size=4) #+
# Chart
datos6 %>%
gather("ciudad","sales",-month) %>%
glimpse() %>%
ggplot(aes(x=as.Date(month, "%d"),y=sales, colour= ciudad)) +
geom_line() +
geom_point() +
geom_text(aes(label = round(sales, 0)),
vjust = "inward", hjust = "inward",
size=4) #+
Sys.setlocale(locale="es_ES.UTF-8")
# Chart
datos6 %>%
gather("ciudad","sales",-month) %>%
glimpse() %>%
ggplot(aes(x=as.Date(month),y=sales, colour= ciudad)) +
geom_line() +
geom_point() +
geom_text(aes(label = round(sales, 0)),
vjust = "inward", hjust = "inward",
size=4) #+
Sys.setlocale("LC_ALL","English")
# Chart
datos6 %>%
gather("ciudad","sales",-month) %>%
glimpse() %>%
ggplot(aes(x=as.Date(month),y=sales, colour= ciudad)) +
geom_line() +
geom_point() +
geom_text(aes(label = round(sales, 0)),
vjust = "inward", hjust = "inward",
size=4) #+
View(datos4)
Sys.getenv()
Sys.getlocale()
library(readr)
datos <- read_csv("C:/Users/karlo/OneDrive/Escritorio/Practicas_Karlos/Proyecto CABIFY/prueba_seleccion.csv") %>%
select(c("journey_id","created_at","currency","price_base","cost_base","region_id"))
datos$ciudad<-"xxx"
datos$ciudad[datos$region_id=="ar_buenos_aires"] = "Buenos Aires"
datos$ciudad[datos$region_id=="barcelona"] = "Barcelona"
datos$ciudad[datos$region_id=="br_rio_de_janeiro"] = "Rio de Janeirol"
datos$ciudad[datos$region_id=="br_sao_paulo"] = "Sao Paulo"
datos$ciudad[datos$region_id=="ec_quito"] = "Quito"
datos$ciudad[datos$region_id=="es_sevilla"] = "Sevilla"
datos$ciudad[datos$region_id=="lima"] = "Lima"
datos$ciudad[datos$region_id=="madrid"] = "Madrid"
datos$ciudad[datos$region_id=="malaga"] = "Malaga"
datos$ciudad[datos$region_id=="mexico"] = "Mexico DF"
datos$ciudad[datos$region_id=="monterrey"] = "Monterrey"
datos$ciudad[datos$region_id=="mx_guadalajara"] = "Guadalajara"
datos$ciudad[datos$region_id=="pt_lisboa"] = "Lisboa"
datos$ciudad[datos$region_id=="puebla"] = "Puebla"
datos$ciudad[datos$region_id=="santiago"] = "Santiago de Chile"
datos$ciudad[datos$region_id=="es_valencia"] = "Valencia"
#summary(datos$ciudad)
datos$ciudad<-as.factor(datos$ciudad)
#summary(datos$ciudad)
datos <- datos %>%
select(c("journey_id","created_at","currency","price_base","cost_base","ciudad"))
View(datos)
datos$month <- months(as.Date(datos$created_at, "%Y/%m/%d",tz="UTC"))
View(datos)
datos$price_base[is.na(datos$price_base)] <- 0
datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
ungroup() %>%
knitr::kable()%>%
kable_styling(bootstrap_options = "striped", font_size = 14)
datos$month <- month(as.Date(datos$created_at, "%Y/%m/%d",tz="UTC"))
View(datos)
datos$month <- myd(as.Date(datos$created_at, "%Y/%m/%d",tz="UTC"))
datos$month <- myd(datos$created_at)
datos$month <- month(datos$created_at)
View(datos)
datos$month <- months.POSIXt(datos$created_at)
datos$price_base[is.na(datos$price_base)] <- 0
datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
ungroup() %>%
knitr::kable()%>%
kable_styling(bootstrap_options = "striped", font_size = 14)
str(datos$month)
datos$month <- months(datos$created_at)
str(datos$month)
datos$month <- ym(datos$created_at)
datos$month <- ymd(datos$created_at)
datos$month <- month(datos$created_at)
datos$months <- month(datos$created_at)
datos$month <- months(datos$created_at)
library(readr)
datos <- read_csv("C:/Users/karlo/OneDrive/Escritorio/Practicas_Karlos/Proyecto CABIFY/prueba_seleccion.csv") %>%
select(c("journey_id","created_at","currency","price_base","cost_base","region_id"))
datos$ciudad<-"xxx"
datos$ciudad[datos$region_id=="ar_buenos_aires"] = "Buenos Aires"
datos$ciudad[datos$region_id=="barcelona"] = "Barcelona"
datos$ciudad[datos$region_id=="br_rio_de_janeiro"] = "Rio de Janeirol"
datos$ciudad[datos$region_id=="br_sao_paulo"] = "Sao Paulo"
datos$ciudad[datos$region_id=="ec_quito"] = "Quito"
datos$ciudad[datos$region_id=="es_sevilla"] = "Sevilla"
datos$ciudad[datos$region_id=="lima"] = "Lima"
datos$ciudad[datos$region_id=="madrid"] = "Madrid"
datos$ciudad[datos$region_id=="malaga"] = "Malaga"
datos$ciudad[datos$region_id=="mexico"] = "Mexico DF"
datos$ciudad[datos$region_id=="monterrey"] = "Monterrey"
datos$ciudad[datos$region_id=="mx_guadalajara"] = "Guadalajara"
datos$ciudad[datos$region_id=="pt_lisboa"] = "Lisboa"
datos$ciudad[datos$region_id=="puebla"] = "Puebla"
datos$ciudad[datos$region_id=="santiago"] = "Santiago de Chile"
datos$ciudad[datos$region_id=="es_valencia"] = "Valencia"
#summary(datos$ciudad)
datos$ciudad<-as.factor(datos$ciudad)
#summary(datos$ciudad)
datos <- datos %>%
select(c("journey_id","created_at","currency","price_base","cost_base","ciudad"))
datos$month <- month(as.POSIXlt(datos$created_at, format="%d/%m/%Y"))
View(datos)
datos$month <- months(as.POSIXlt(datos$created_at, format="%d/%m/%Y"))
str(datos$month)
datos$month <- format(datos$created_at,%B)
datos$month <- format(datos$created_at,"%B")
datos$month <- format(datos$created_at,"%m")
datos$month <- format(datos$created_at,"%m%y")
datos$month <- format(datos$created_at,"%M%Y")
datos$month <- format(datos$created_at,"%B%Y")
datos$month <- format(datos$created_at,"%Y%M")
tz(datos$created_at)
?Sys.time
Sys.time()
Sys.Date()
library(readr)
datos <- read_csv("C:/Users/karlo/OneDrive/Escritorio/Practicas_Karlos/Proyecto CABIFY/prueba_seleccion.csv") %>%
select(c("journey_id","created_at","currency","price_base","cost_base","region_id"))
datos$ciudad<-"xxx"
datos$ciudad[datos$region_id=="ar_buenos_aires"] = "Buenos Aires"
datos$ciudad[datos$region_id=="barcelona"] = "Barcelona"
datos$ciudad[datos$region_id=="br_rio_de_janeiro"] = "Rio de Janeirol"
datos$ciudad[datos$region_id=="br_sao_paulo"] = "Sao Paulo"
datos$ciudad[datos$region_id=="ec_quito"] = "Quito"
datos$ciudad[datos$region_id=="es_sevilla"] = "Sevilla"
datos$ciudad[datos$region_id=="lima"] = "Lima"
datos$ciudad[datos$region_id=="madrid"] = "Madrid"
datos$ciudad[datos$region_id=="malaga"] = "Malaga"
datos$ciudad[datos$region_id=="mexico"] = "Mexico DF"
datos$ciudad[datos$region_id=="monterrey"] = "Monterrey"
datos$ciudad[datos$region_id=="mx_guadalajara"] = "Guadalajara"
datos$ciudad[datos$region_id=="pt_lisboa"] = "Lisboa"
datos$ciudad[datos$region_id=="puebla"] = "Puebla"
datos$ciudad[datos$region_id=="santiago"] = "Santiago de Chile"
datos$ciudad[datos$region_id=="es_valencia"] = "Valencia"
#summary(datos$ciudad)
datos$ciudad<-as.factor(datos$ciudad)
#summary(datos$ciudad)
datos <- datos %>%
select(c("journey_id","created_at","currency","price_base","cost_base","ciudad"))
str(datos$created_at)
datos$month <- format(datos$created_at,"%M%Y")
View(datos)
datos$month <- format(datos$created_at,"%B%Y")
datos$month <- mdy(datos$created_at)
tz(datos$created_at)
datos$month <- as.POSIXct(datos$created_at, tz="CET")
tz(datos$created_at)
datos$month <- as.Date(datos$created_at, tz="UTC")
tz(datos$month)
tz(datos$created_at)
datos$month <- as.Date(datos$created_at, tz="CET")
tz(datos$created_at)
tz(datos$month)
library(readr)
datos <- read_csv("C:/Users/karlo/OneDrive/Escritorio/Practicas_Karlos/Proyecto CABIFY/prueba_seleccion.csv") %>%
select(c("journey_id","created_at","currency","price_base","cost_base","region_id"))
datos$ciudad<-"xxx"
datos$ciudad[datos$region_id=="ar_buenos_aires"] = "Buenos Aires"
datos$ciudad[datos$region_id=="barcelona"] = "Barcelona"
datos$ciudad[datos$region_id=="br_rio_de_janeiro"] = "Rio de Janeirol"
datos$ciudad[datos$region_id=="br_sao_paulo"] = "Sao Paulo"
datos$ciudad[datos$region_id=="ec_quito"] = "Quito"
datos$ciudad[datos$region_id=="es_sevilla"] = "Sevilla"
datos$ciudad[datos$region_id=="lima"] = "Lima"
datos$ciudad[datos$region_id=="madrid"] = "Madrid"
datos$ciudad[datos$region_id=="malaga"] = "Malaga"
datos$ciudad[datos$region_id=="mexico"] = "Mexico DF"
datos$ciudad[datos$region_id=="monterrey"] = "Monterrey"
datos$ciudad[datos$region_id=="mx_guadalajara"] = "Guadalajara"
datos$ciudad[datos$region_id=="pt_lisboa"] = "Lisboa"
datos$ciudad[datos$region_id=="puebla"] = "Puebla"
datos$ciudad[datos$region_id=="santiago"] = "Santiago de Chile"
datos$ciudad[datos$region_id=="es_valencia"] = "Valencia"
#summary(datos$ciudad)
datos$ciudad<-as.factor(datos$ciudad)
#summary(datos$ciudad)
datos <- datos %>%
select(c("journey_id","created_at","currency","price_base","cost_base","ciudad"))
datos$month <- months(datos$created_at)
datos$price_base[is.na(datos$price_base)] <- 0
datos$month <- months(datos$created_at)
datos$price_base[is.na(datos$price_base)] <- 0
datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
ungroup() %>%
select(c("january","february","march","april","may","june","july","august",
"september","october","november","december")) %>%
knitr::kable()%>%
kable_styling(bootstrap_options = "striped", font_size = 14)
View(datos)
datos$month <- months(datos$created_at)
datos$price_base[is.na(datos$price_base)] <- 0
datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
ungroup() %>%
select(c("January","February","March","April","May","June","July","August",
"September","October","November","December")) %>%
knitr::kable()%>%
kable_styling(bootstrap_options = "striped", font_size = 14)
datos$month <- months(datos$created_at)
datos$price_base[is.na(datos$price_base)] <- 0
datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
select(c("January","February","March","April","May","June","July","August",
"September","October","November","December")) %>%
ungroup() %>%
knitr::kable()%>%
kable_styling(bootstrap_options = "striped", font_size = 14)
View(datos)
datos$price_base <- format(round(as.numeric(datos$price_base), 1), nsmall=1, big.mark=",")
View(datos)
datos$cost_base <- format(round(as.numeric(datos$cost_base), 1), nsmall=1, big.mark=",")
datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
ungroup() %>%
knitr::kable()%>%
kable_styling(bootstrap_options = "striped", font_size = 14)
str(datos$)
str(datos$price_base)
library(readr)
datos <- read_csv("C:/Users/karlo/OneDrive/Escritorio/Practicas_Karlos/Proyecto CABIFY/prueba_seleccion.csv") %>%
select(c("journey_id","created_at","currency","price_base","cost_base","region_id"))
datos$ciudad<-"xxx"
datos$ciudad[datos$region_id=="ar_buenos_aires"] = "Buenos Aires"
datos$ciudad[datos$region_id=="barcelona"] = "Barcelona"
datos$ciudad[datos$region_id=="br_rio_de_janeiro"] = "Rio de Janeirol"
datos$ciudad[datos$region_id=="br_sao_paulo"] = "Sao Paulo"
datos$ciudad[datos$region_id=="ec_quito"] = "Quito"
datos$ciudad[datos$region_id=="es_sevilla"] = "Sevilla"
datos$ciudad[datos$region_id=="lima"] = "Lima"
datos$ciudad[datos$region_id=="madrid"] = "Madrid"
datos$ciudad[datos$region_id=="malaga"] = "Malaga"
datos$ciudad[datos$region_id=="mexico"] = "Mexico DF"
datos$ciudad[datos$region_id=="monterrey"] = "Monterrey"
datos$ciudad[datos$region_id=="mx_guadalajara"] = "Guadalajara"
datos$ciudad[datos$region_id=="pt_lisboa"] = "Lisboa"
datos$ciudad[datos$region_id=="puebla"] = "Puebla"
datos$ciudad[datos$region_id=="santiago"] = "Santiago de Chile"
datos$ciudad[datos$region_id=="es_valencia"] = "Valencia"
#summary(datos$ciudad)
datos$ciudad<-as.factor(datos$ciudad)
#summary(datos$ciudad)
datos <- datos %>%
select(c("journey_id","created_at","currency","price_base","cost_base","ciudad"))
datos(datos$price_base)
str(datos$price_base)
datos$price_base <- format(round(as.numeric(datos$price_base), 1), nsmall=1, big.mark=",")
str(datos$price_base)
datos$price_base <- as.numeric(datos$price_base)
str(datos$price_base)
library(readr)
datos <- read_csv("C:/Users/karlo/OneDrive/Escritorio/Practicas_Karlos/Proyecto CABIFY/prueba_seleccion.csv") %>%
select(c("journey_id","created_at","currency","price_base","cost_base","region_id"))
datos$ciudad<-"xxx"
datos$ciudad[datos$region_id=="ar_buenos_aires"] = "Buenos Aires"
datos$ciudad[datos$region_id=="barcelona"] = "Barcelona"
datos$ciudad[datos$region_id=="br_rio_de_janeiro"] = "Rio de Janeirol"
datos$ciudad[datos$region_id=="br_sao_paulo"] = "Sao Paulo"
datos$ciudad[datos$region_id=="ec_quito"] = "Quito"
datos$ciudad[datos$region_id=="es_sevilla"] = "Sevilla"
datos$ciudad[datos$region_id=="lima"] = "Lima"
datos$ciudad[datos$region_id=="madrid"] = "Madrid"
datos$ciudad[datos$region_id=="malaga"] = "Malaga"
datos$ciudad[datos$region_id=="mexico"] = "Mexico DF"
datos$ciudad[datos$region_id=="monterrey"] = "Monterrey"
datos$ciudad[datos$region_id=="mx_guadalajara"] = "Guadalajara"
datos$ciudad[datos$region_id=="pt_lisboa"] = "Lisboa"
datos$ciudad[datos$region_id=="puebla"] = "Puebla"
datos$ciudad[datos$region_id=="santiago"] = "Santiago de Chile"
datos$ciudad[datos$region_id=="es_valencia"] = "Valencia"
#summary(datos$ciudad)
datos$ciudad<-as.factor(datos$ciudad)
#summary(datos$ciudad)
datos <- datos %>%
select(c("journey_id","created_at","currency","price_base","cost_base","ciudad"))
datos$price_base[is.na(datos$price_base)] <- 0
datos$price_base <- format(round(as.numeric(datos$price_base), 1), nsmall=1, big.mark=".")
str(datos$price_base)
datos$price_base <- as.numeric(datos$price_base)
str(datos$price_base)
datos1 <- datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
ungroup()
datos$month <- months(datos$created_at)
datos$price_base[is.na(datos$price_base)] <- 0
datos1 <- datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
ungroup()
View(datos1)
datos1 <- datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
ungroup() %>%
select(c("January","February","March","April","May","June","July","August",
"September","October","November","December"))
datos1 <- datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
ungroup() %>%
order(c("January","February","March","April","May","June","July","August",
"September","October","November","December"))
datos1 <- datos1 %>%
select(c("January","February","March","April","May","June","July","August",
"September","October","November","December"))
View(datos1)
datos1 <- datos1 %>%
filter(c("January","February","March","April","May","June","July","August",
"September","October","November","December"))
datos1 <- datos[c("January","February","March","April","May","June","July","August",
"September","October","November","December"),]
View(datos1)
datos1 <- datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
ungroup()
datos1 <- datos1[c("January","February","March","April","May","June","July","August",
"September","October","November","December"),]
View(datos1)
datos1 <- datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
ungroup()
View(datos1)
datos1 <- datos1[c(5,4,8,1,9,7,6,2,12,11,10,3),]
View(datos1)
library(readr)
datos <- read_csv("C:/Users/karlo/OneDrive/Escritorio/Practicas_Karlos/Proyecto CABIFY/prueba_seleccion.csv") %>%
select(c("journey_id","created_at","currency","price_base","cost_base","region_id"))
datos$ciudad<-"xxx"
datos$ciudad[datos$region_id=="ar_buenos_aires"] = "Buenos Aires"
datos$ciudad[datos$region_id=="barcelona"] = "Barcelona"
datos$ciudad[datos$region_id=="br_rio_de_janeiro"] = "Rio de Janeirol"
datos$ciudad[datos$region_id=="br_sao_paulo"] = "Sao Paulo"
datos$ciudad[datos$region_id=="ec_quito"] = "Quito"
datos$ciudad[datos$region_id=="es_sevilla"] = "Sevilla"
datos$ciudad[datos$region_id=="lima"] = "Lima"
datos$ciudad[datos$region_id=="madrid"] = "Madrid"
datos$ciudad[datos$region_id=="malaga"] = "Malaga"
datos$ciudad[datos$region_id=="mexico"] = "Mexico DF"
datos$ciudad[datos$region_id=="monterrey"] = "Monterrey"
datos$ciudad[datos$region_id=="mx_guadalajara"] = "Guadalajara"
datos$ciudad[datos$region_id=="pt_lisboa"] = "Lisboa"
datos$ciudad[datos$region_id=="puebla"] = "Puebla"
datos$ciudad[datos$region_id=="santiago"] = "Santiago de Chile"
datos$ciudad[datos$region_id=="es_valencia"] = "Valencia"
#summary(datos$ciudad)
datos$ciudad<-as.factor(datos$ciudad)
#summary(datos$ciudad)
datos <- datos %>%
select(c("journey_id","created_at","currency","price_base","cost_base","ciudad"))
datos$month <- months(datos$created_at)
datos$price_base[is.na(datos$price_base)] <- 0
datos1 <- datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
ungroup()
datos1 <- datos1[c(5,4,8,1,9,7,6,2,12,11,10,3),]
View(datos1)
datos1$sales <- format(round(as.numeric(datos$price_base), 1), nsmall=1, big.mark=".")
View(datos1)
datos1$sales <- format(round(as.numeric(datos1$sales), 1), nsmall=1, big.mark=".")
View(datos1)
datos1$sales <- format(round(as.numeric(datos1$sales), 1), nsmall=1, big.mark=",")
View(datos1)
library(readr)
datos <- read_csv("C:/Users/karlo/OneDrive/Escritorio/Practicas_Karlos/Proyecto CABIFY/prueba_seleccion.csv") %>%
select(c("journey_id","created_at","currency","price_base","cost_base","region_id"))
datos$ciudad<-"xxx"
datos$ciudad[datos$region_id=="ar_buenos_aires"] = "Buenos Aires"
datos$ciudad[datos$region_id=="barcelona"] = "Barcelona"
datos$ciudad[datos$region_id=="br_rio_de_janeiro"] = "Rio de Janeirol"
datos$ciudad[datos$region_id=="br_sao_paulo"] = "Sao Paulo"
datos$ciudad[datos$region_id=="ec_quito"] = "Quito"
datos$ciudad[datos$region_id=="es_sevilla"] = "Sevilla"
datos$ciudad[datos$region_id=="lima"] = "Lima"
datos$ciudad[datos$region_id=="madrid"] = "Madrid"
datos$ciudad[datos$region_id=="malaga"] = "Malaga"
datos$ciudad[datos$region_id=="mexico"] = "Mexico DF"
datos$ciudad[datos$region_id=="monterrey"] = "Monterrey"
datos$ciudad[datos$region_id=="mx_guadalajara"] = "Guadalajara"
datos$ciudad[datos$region_id=="pt_lisboa"] = "Lisboa"
datos$ciudad[datos$region_id=="puebla"] = "Puebla"
datos$ciudad[datos$region_id=="santiago"] = "Santiago de Chile"
datos$ciudad[datos$region_id=="es_valencia"] = "Valencia"
#summary(datos$ciudad)
datos$ciudad<-as.factor(datos$ciudad)
#summary(datos$ciudad)
datos <- datos %>%
select(c("journey_id","created_at","currency","price_base","cost_base","ciudad"))
library(readr)
datos <- read_csv("C:/Users/karlo/OneDrive/Escritorio/Practicas_Karlos/Proyecto CABIFY/prueba_seleccion.csv") %>%
select(c("journey_id","created_at","currency","price_base","cost_base","region_id"))
datos$ciudad<-"xxx"
datos$ciudad[datos$region_id=="ar_buenos_aires"] = "Buenos Aires"
datos$ciudad[datos$region_id=="barcelona"] = "Barcelona"
datos$ciudad[datos$region_id=="br_rio_de_janeiro"] = "Rio de Janeirol"
datos$ciudad[datos$region_id=="br_sao_paulo"] = "Sao Paulo"
datos$ciudad[datos$region_id=="ec_quito"] = "Quito"
datos$ciudad[datos$region_id=="es_sevilla"] = "Sevilla"
datos$ciudad[datos$region_id=="lima"] = "Lima"
datos$ciudad[datos$region_id=="madrid"] = "Madrid"
datos$ciudad[datos$region_id=="malaga"] = "Malaga"
datos$ciudad[datos$region_id=="mexico"] = "Mexico DF"
datos$ciudad[datos$region_id=="monterrey"] = "Monterrey"
datos$ciudad[datos$region_id=="mx_guadalajara"] = "Guadalajara"
datos$ciudad[datos$region_id=="pt_lisboa"] = "Lisboa"
datos$ciudad[datos$region_id=="puebla"] = "Puebla"
datos$ciudad[datos$region_id=="santiago"] = "Santiago de Chile"
datos$ciudad[datos$region_id=="es_valencia"] = "Valencia"
#summary(datos$ciudad)
datos$ciudad<-as.factor(datos$ciudad)
#summary(datos$ciudad)
datos <- datos %>%
select(c("journey_id","created_at","currency","price_base","cost_base","ciudad"))
library(readr)
datos <- read_csv("C:/Users/karlo/OneDrive/Escritorio/Practicas_Karlos/Proyecto CABIFY/prueba_seleccion.csv") %>%
select(c("journey_id","created_at","currency","price_base","cost_base","region_id"))
datos$ciudad<-"xxx"
datos$ciudad[datos$region_id=="ar_buenos_aires"] = "Buenos Aires"
datos$ciudad[datos$region_id=="barcelona"] = "Barcelona"
datos$ciudad[datos$region_id=="br_rio_de_janeiro"] = "Rio de Janeirol"
datos$ciudad[datos$region_id=="br_sao_paulo"] = "Sao Paulo"
datos$ciudad[datos$region_id=="ec_quito"] = "Quito"
datos$ciudad[datos$region_id=="es_sevilla"] = "Sevilla"
datos$ciudad[datos$region_id=="lima"] = "Lima"
datos$ciudad[datos$region_id=="madrid"] = "Madrid"
datos$ciudad[datos$region_id=="malaga"] = "Malaga"
datos$ciudad[datos$region_id=="mexico"] = "Mexico DF"
datos$ciudad[datos$region_id=="monterrey"] = "Monterrey"
datos$ciudad[datos$region_id=="mx_guadalajara"] = "Guadalajara"
datos$ciudad[datos$region_id=="pt_lisboa"] = "Lisboa"
datos$ciudad[datos$region_id=="puebla"] = "Puebla"
datos$ciudad[datos$region_id=="santiago"] = "Santiago de Chile"
datos$ciudad[datos$region_id=="es_valencia"] = "Valencia"
#summary(datos$ciudad)
datos$ciudad<-as.factor(datos$ciudad)
#summary(datos$ciudad)
datos <- datos %>%
select(c("journey_id","created_at","currency","price_base","cost_base","ciudad"))
datos$month <- months(datos$created_at)
datos$price_base[is.na(datos$price_base)] <- 0
datos1 <- datos %>%
# grouping by year and summarizing sales
group_by(month) %>%
summarize(sales = sum(price_base)) %>%
ungroup()
datos1 <- datos1[c(5,4,8,1,9,7,6,2,12,11,10,3),]
datos1$sales <- format(round(as.numeric(datos1$sales), 1), nsmall=1, big.mark=",")
View(datos1)
datos1%>%
knitr::kable()%>%
kable_styling(bootstrap_options = "striped", font_size = 14)
head(datos1)%>%
knitr::kable()%>%
kable_styling(bootstrap_options = "striped", font_size = 14)
